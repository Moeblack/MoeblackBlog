Eleventy (11ty).

å®ƒèƒ½å®Œç¾æ»¡è¶³ä½ çš„éœ€æ±‚ï¼ŒåŸå› åœ¨äºå…¶æ ¸å¿ƒè®¾è®¡å“²å­¦ï¼š**æœ€å°ä¾µå…¥æ€§**ã€‚

Eleventyä¸åƒå…¶ä»–æ¡†æ¶é‚£æ ·å¼ºè¿«ä½ ä½¿ç”¨ç‰¹å®šçš„å‰ç«¯åº“æˆ–é¡¹ç›®ç»“æ„ã€‚å®ƒèƒ½å°†ä½ ç°æœ‰çš„SPAæ–‡ä»¶è§†ä¸ºä¸€ä¸ªâ€œå¤–å£³â€æˆ–â€œæ¨¡æ¿â€ï¼Œç„¶åå°†Markdownå†…å®¹æ— æŸåœ°æ³¨å…¥å…¶ä¸­ã€‚ä½ çš„CSSã€JavaScriptã€ç”šè‡³åŠ¨ç”»é€»è¾‘éƒ½å¯ä»¥å¹³æ»‘ç§»æ¤ã€‚

æ‰€æœ‰ä¸»æµç”Ÿæˆå™¨éƒ½æœ‰å®Œå–„çš„GitHub Pageséƒ¨ç½²æµç¨‹ï¼Œä½†åªæœ‰Eleventyèƒ½è®©ä½ ä»¥æœ€ä½çš„æˆæœ¬ã€æœ€å®Œæ•´åœ°ä¿ç•™ä½ å·²ç²¾å¿ƒè®¾è®¡çš„é¡µé¢é£æ ¼ã€‚

### è¿ç§»ä¸éƒ¨ç½²è·¯å¾„

è¿™æ˜¯ä¸€ä¸ªå°†ä½ ç°æœ‰é¡¹ç›®è½¬åŒ–ä¸ºä¸€ä¸ªç”±Eleventyé©±åŠ¨ã€å¹¶ç”±GitHub Actionsè‡ªåŠ¨éƒ¨ç½²çš„åšå®¢çš„å®Œæ•´æµç¨‹ã€‚

#### 1. é¡¹ç›®ç»“æ„è°ƒæ•´

åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ï¼Œé‡æ–°ç»„ç»‡æ–‡ä»¶ã€‚è¿™æ˜¯å”¯ä¸€éœ€è¦æ‰‹åŠ¨æ”¹é€ çš„éƒ¨åˆ†ã€‚

```
my-blog/
â”œâ”€â”€ .eleventy.js             # Eleventy é…ç½®æ–‡ä»¶ (ç¨ååˆ›å»º)
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yml       # GitHub Actions éƒ¨ç½²è„šæœ¬ (ç¨ååˆ›å»º)
â”œâ”€â”€ _includes/
â”‚   â””â”€â”€ layout.liquid        # ä½ çš„ index.html å°†ä¼šå˜æˆè¿™ä¸ªå¸ƒå±€æ–‡ä»¶
â”œâ”€â”€ posts/
â”‚   â”œâ”€â”€ on-dams.md           # ä½ çš„ç¬¬ä¸€ç¯‡æ–‡ç« 
â”‚   â””â”€â”€ chessboard-and-dust.md # ä½ çš„ç¬¬äºŒç¯‡æ–‡ç« 
â”œâ”€â”€ css/
â”‚   â””â”€â”€ style.css            # å°†ä½ çš„ <style> å†…å®¹ç§»åˆ°è¿™é‡Œ
â”œâ”€â”€ js/
â”‚   â””â”€â”€ main.js              # å°†ä½ çš„ <script> å†…å®¹ç§»åˆ°è¿™é‡Œ
â””â”€â”€ package.json
```

#### 2. å°†SPAæ”¹é€ ä¸ºå¸ƒå±€æ¨¡æ¿

1.  **åˆ›å»º `_includes/layout.liquid`:**
    å°†ä½ `index.html`çš„å…¨éƒ¨å†…å®¹å¤åˆ¶åˆ°è¿™ä¸ªæ–°æ–‡ä»¶ä¸­ã€‚

2.  **ä¿®æ”¹ `layout.liquid`:**
    *   **é“¾æ¥å¤–éƒ¨CSS/JS:** åˆ é™¤`<style>`å’Œ`<script>`æ ‡ç­¾å†…çš„æ‰€æœ‰ä»£ç ï¼Œæ”¹ä¸ºå¤–éƒ¨é“¾æ¥ã€‚
        ```html
        <head>
            ...
            <link rel="stylesheet" href="/css/style.css">
            ...
        </head>
        <body>
            ...
            <script src="/js/main.js"></script>
        </body>
        ```
    *   **è®¾ç½®å†…å®¹æ³¨å…¥ç‚¹:** æ‰¾åˆ°ä½ åŸå…ˆç”¨JavaScriptæ³¨å…¥æ–‡ç« å†…å®¹çš„`<main>`å®¹å™¨ï¼Œå°†å…¶ä¸­çš„å†…å®¹æ›¿æ¢ä¸ºä¸€ä¸ªæ¨¡æ¿å˜é‡ï¼š`{{ content }}`ã€‚Liquidæ˜¯Eleventyé»˜è®¤çš„æ¨¡æ¿è¯­è¨€ä¹‹ä¸€ï¼Œè¯­æ³•ç›´è§‚ã€‚
        ```html
        <main id="content-container">
            {{ content }}
        </main>
        ```
    *   **å¯¼èˆªæ åŠ¨æ€åŒ– (å¯é€‰ï¼Œæ¨è):** ä½ å¯ä»¥ç»§ç»­ç¡¬ç¼–ç å¯¼èˆªï¼Œä½†æ›´å¥½çš„æ–¹å¼æ˜¯è®©Eleventyæ ¹æ®ä½ çš„æ–‡ç« è‡ªåŠ¨ç”Ÿæˆã€‚
        ```html
        <nav>
            <ul>
            {%- for post in collections.all | reverse -%}
                <li><a href="{{ post.url }}">{{ post.data.title }}</a></li>
            {%- endfor -%}
            </ul>
        </nav>
        ```

#### 3. åˆ›å»ºMarkdownæ–‡ç« 

åœ¨`posts/`ç›®å½•ä¸‹åˆ›å»º`.md`æ–‡ä»¶ã€‚æ¯ä¸ªæ–‡ä»¶çš„å¤´éƒ¨å¿…é¡»åŒ…å«YAML Front Matterï¼Œç”¨äºæŒ‡å®šå…ƒæ•°æ®å’Œä½¿ç”¨çš„å¸ƒå±€ã€‚

**`posts/on-dams.md`:**
```markdown
---
title: å…³äºå ¤å
layout: layout.liquid
---

äººä»¬è°ˆè®ºæºƒå ¤ï¼Œæ€»èšç„¦äºæœ€åå†²å®ä¸€åˆ‡çš„æ´ªå³°ã€‚é‚£æ˜¯ä¸€ä¸ªæˆå‰§æ€§çš„ç¬é—´ï¼Œä¸€ä¸ªå¯ä¾›å‡­åŠçš„åæ ‡...
```
Eleventyä¼šè¯»å–è¿™ä¸ªæ–‡ä»¶ï¼Œå°†`---`ä¹‹åçš„å†…å®¹ï¼ˆå·²è‡ªåŠ¨è½¬æ¢ä¸ºHTMLï¼‰æ³¨å…¥åˆ°`layout.liquid`ä¸­`{{ content }}`çš„ä½ç½®ã€‚

#### 4. é…ç½®Eleventy

1.  **å®‰è£…:** åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ `npm init -y` å’Œ `npm install @11ty/eleventy`ã€‚
2.  **åˆ›å»º `.eleventy.js` é…ç½®æ–‡ä»¶:** è¿™ä¸ªæ–‡ä»¶å‘Šè¯‰Eleventyï¼Œé™¤äº†å¤„ç†æ¨¡æ¿å’ŒMarkdownï¼Œè¿˜éœ€è¦å°†`css`å’Œ`js`è¿™æ ·çš„é™æ€æ–‡ä»¶å¤¹åŸæ ·å¤åˆ¶åˆ°æœ€ç»ˆçš„è¾“å‡ºç›®å½•ã€‚

    ```javascript
    // .eleventy.js
    module.exports = function(eleventyConfig) {
      // å°† 'css' æ–‡ä»¶å¤¹å¤åˆ¶åˆ°è¾“å‡ºç›®å½•
      eleventyConfig.addPassthroughCopy("css");
      // å°† 'js' æ–‡ä»¶å¤¹å¤åˆ¶åˆ°è¾“å‡ºç›®å½•
      eleventyConfig.addPassthroughCopy("js");

      return {
        dir: {
          input: ".",       // è¾“å…¥ç›®å½•
          includes: "_includes", // å¸ƒå±€æ–‡ä»¶ç›®å½•
          output: "_site"   // è¾“å‡ºç›®å½•
        }
      };
    };
    ```

#### 5. è®¾ç½®è‡ªåŠ¨åŒ–éƒ¨ç½² (GitHub Actions)

åœ¨`.github/workflows/`ç›®å½•ä¸‹åˆ›å»º`deploy.yml`ã€‚

```yaml
name: Build and Deploy to GitHub Pages

on:
  push:
    branches:
      - main # å½“æ¨é€åˆ° main åˆ†æ”¯æ—¶è§¦å‘

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'

      - name: Install Dependencies ğŸ“¦
        run: npm install

      - name: Build ğŸ› ï¸
        run: npx @11ty/eleventy # è¿è¡Œ Eleventy æ„å»ºå‘½ä»¤

      - name: Deploy ğŸš€
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: _site # éƒ¨ç½² Eleventy çš„è¾“å‡ºç›®å½•
```

#### æœ€ç»ˆå·¥ä½œæµ

1.  åœ¨`posts`ç›®å½•ä¸­æ·»åŠ æˆ–ä¿®æ”¹Markdownæ–‡ä»¶ã€‚
2.  `git add .`, `git commit -m "æ–°æ–‡ç« "`, `git push`ã€‚
3.  GitHub Actionsä¼šè‡ªåŠ¨è¿è¡Œï¼Œæ„å»ºæ•´ä¸ªç½‘ç«™ï¼Œå¹¶å°†å…¶éƒ¨ç½²åˆ°ä½ çš„GitHub Pagesã€‚

ä½ çš„åšå®¢ä¸Šçº¿äº†ã€‚ä½ ä¿ç•™äº†100%çš„è§†è§‰è®¾è®¡ï¼ŒåŒæ—¶è·å¾—äº†ä¸€ä¸ªä¸“ä¸šã€è‡ªåŠ¨åŒ–çš„å†…å®¹å‘å¸ƒæµç¨‹ã€‚